<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Abstimmungszeitraum und Bestätigung (3 von 3) - woodle</title>
    <link rel="stylesheet" href="/css/app.css">
</head>
<body>
<div class="page-shell">
    <header>
        <h1>Abstimmungszeitraum und Bestätigung</h1>
        <p class="step-indicator">Schritt 3 von 3</p>
    </header>

    <main>
        <form class="wizard-card" action="/poll/submit" method="post">
            <input type="hidden" name="draftId" th:if="${draftId != null}" th:value="${draftId}">
            <input type="hidden" name="authorName" th:value="${authorName}">
            <input type="hidden" name="authorEmail" th:value="${authorEmail}">
            <input type="hidden" name="pollTitle" th:value="${pollTitle}">
            <input type="hidden" name="description" th:value="${description}">
            <input type="hidden" name="eventType" th:value="${eventType}">
            <input type="hidden" name="durationMinutes" th:value="${durationMinutes}">
            <input type="hidden"
                   th:each="date, dateStat : ${dates}"
                   th:name="${'dateOption' + (dateStat.index + 1)}"
                   th:value="${date}">
            <input type="hidden"
                   th:each="startTime, timeStat : ${startTimes}"
                   th:name="${'startTime' + (timeStat.index + 1)}"
                   th:value="${startTime}">
            <div class="section-heading">
                <h2>Prüfen und veröffentlichen</h2>
                <p>Kontrollieren Sie die Terminliste und legen Sie die automatische Löschung fest.</p>
            </div>
        <section class="stack">
            <h2>Liste Ihrer Auswahlmöglichkeiten</h2>
            <ul class="summary-list"
                th:if="${eventType == T(io.github.bodote.woodle.domain.model.EventType).ALL_DAY}">
                <li th:each="date : ${dates}" th:text="${date}">Datum</li>
            </ul>
            <ul class="summary-list"
                th:if="${eventType == T(io.github.bodote.woodle.domain.model.EventType).INTRADAY}">
                <li th:each="summary : ${dateSummaries}" th:text="${summary}">Datum</li>
            </ul>
        </section>

        <div class="form-row">
            <label for="expires-at">Tag der Löschung</label>
            <input id="expires-at" name="expiresAt" type="date" placeholder="yyyy-mm-dd"
                   th:value="${expiresAt}">
            <p class="form-help">Standard: 4 Wochen nach dem letzten Termin.</p>
        </div>

        <div class="actions">
            <button type="submit">Umfrage erstellen</button>
        </div>
    </form>
    </main>
</div>
</body>
</html>
